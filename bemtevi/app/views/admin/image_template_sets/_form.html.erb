<%= render "shared/error_messages", :target => @image_template_set %>

<fieldset id="general_fields">
  <%= f.field_container :name do %>
    <%= f.label t(:name) %><br />
    <%= f.text_field :name %>
  <% end %>

  <%= f.field_container :vendor do %>
    <%= f.label t(:vendor) %><br />
    <%= f.select :vendor_id, options_from_collection_for_select(Vendor.all, :id, :name, @image_template_set.vendor_id) %>
  <% end %>
</fieldset>

<%= f.fields_for :image_templates do |template_form| %>
  <% template_type = template_form.object.template_type %>
  <fieldset id="<%= template_type %>_template_fields">
    <legend><%= t(template_type == :detail ? :detailed_image_template : :summary_image_template)%></legend>
    <%= render :partial => "template_form", :locals => { :f => template_form, :template_type => template_type } %>
  </fieldset>
<% end %>